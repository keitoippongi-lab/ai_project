import streamlit as st

st.title("📚 MBTI로 알아보는 책 & 영화 추천")

st.write("안녕! 👋 네 MBTI를 고르면, 너한테 어울리는 책 두 권과 영화 두 편을 추천해줄게. 짧은 이유도 함께 알려줄게요 😄")

mbti_list = [
    "INTJ", "INTP", "ENTJ", "ENTP",
    "INFJ", "INFP", "ENFJ", "ENFP",
    "ISTJ", "ISFJ", "ESTJ", "ESFJ",
    "ISTP", "ISFP", "ESTP", "ESFP"
]

user_mbti = st.selectbox("너의 MBTI는 뭐야? 👇", mbti_list)

recommendations = {
    "INTJ": {
        "books": [("1984 - 조지 오웰", "논리적인 사고와 체계적인 세계관을 좋아하는 INTJ에게 딱!"),
                  ("데이터로 말하라 - 콜린 앤더슨", "분석적 사고를 자극하는 책이에요.")],
        "movies": [("인셉션", "복잡한 구조와 전략적인 전개가 매력적이에요."),
                   ("인터스텔라", "깊이 있는 스토리를 좋아하는 사람에게 어울려요 🚀")]
    },
    "INTP": {
        "books": [("호모 데우스 - 유발 하라리", "미래와 인간 본질을 탐구하는 내용이 매력적이에요."),
                  ("생각의 탄생 - 로버트 루트번스타인", "창의적 사고 과정을 흥미롭게 다뤄요.")],
        "movies": [("매트릭스", "현실과 진실에 대한 철학적 질문이 흥미로워요."),
                   ("아이언맨", "논리와 기술에 관심 많은 INTP에게 찰떡이에요 🤖")]
    },
    "ENTJ": {
        "books": [("리더십 챌린지 - 쿠제스 & 포스너", "리더십 있는 ENTJ에게 실질적인 조언을 줘요."),
                  ("성공하는 사람들의 7가지 습관 - 스티븐 코비", "목표 지향적인 태도를 키워줘요.")],
        "movies": [("더 울프 오브 월스트리트", "도전적인 에너지와 추진력을 자극해요."),
                   ("스티브 잡스", "리더십과 결단력이 돋보이는 인물이에요 💼")]
    },
    "ENTP": {
        "books": [("아이디어 불패의 법칙 - 알베르토 사보이아", "새로운 생각을 실험하는 걸 좋아하는 타입이에요."),
                  ("크리에이티브 - 에드 캣멀", "상상력과 혁신을 자극하는 책이에요 🎨")],
        "movies": [("소셜 네트워크", "창업과 아이디어의 현실적인 이야기가 흥미로워요."),
                   ("캐치 미 이프 유 캔", "즉흥적이지만 똑똑한 주인공이 매력적이에요.")]
    },
    "INFJ": {
        "books": [("어린 왕자 - 생텍쥐페리", "감성적이고 철학적인 INFJ에게 잘 어울려요 💫"),
                  ("나미야 잡화점의 기적 - 히가시노 게이고", "사람 마음을 이해하는 따뜻한 내용이에요.")],
        "movies": [("월터의 상상은 현실이 된다", "내면의 성장을 그린 감성 영화예요."),
                   ("굿윌 헌팅", "진심 어린 관계와 성장의 이야기예요.")]
    },
    "INFP": {
        "books": [("해리포터 시리즈 - J.K. 롤링", "상상력 풍부한 INFP에게 어울려요 ✨"),
                  ("연금술사 - 파울로 코엘료", "꿈을 향해 나아가는 메시지가 담겨 있어요.")],
        "movies": [("라라랜드", "감성적이고 꿈을 좇는 사람에게 찰떡이에요."),
                   ("이터널 선샤인", "사랑과 기억에 대한 따뜻한 영화예요 💖")]
    },
    "ENFJ": {
        "books": [("사람을 얻는 기술 - 데일 카네기", "사람 관계를 중요하게 생각하는 ENFJ에게 잘 맞아요."),
                  ("죽은 시인의 사회 - N.H. 클라인바움", "영감을 주는 스토리예요.")],
        "movies": [("인턴", "사람 사이의 따뜻한 협력과 배려를 보여줘요."),
                   ("히든 피겨스", "용기와 리더십을 가진 인물들의 이야기예요 🌟")]
    },
    "ENFP": {
        "books": [("모모 - 미하엘 엔데", "상상력과 자유로운 사고를 가진 사람에게 좋아요."),
                  ("미움받을 용기 - 기시미 이치로", "자신답게 사는 힘을 주는 책이에요 🌈")],
        "movies": [("월-E", "사랑스럽고 감성적인 이야기예요."),
                   ("어바웃 타임", "시간과 사랑의 소중함을 느끼게 해줘요 ⏰")]
    },
    "ISTJ": {
        "books": [("성공하는 사람들의 시간관리 습관 - 케빈 크루즈", "체계적인 ISTJ에게 어울려요."),
                  ("원칙 - 레이 달리오", "논리적이고 계획적인 사고를 돕는 책이에요.")],
        "movies": [("머니볼", "분석적 사고와 꾸준함이 돋보이는 이야기예요."),
                   ("인터스텔라", "책임감 있고 집중력 강한 사람에게 맞아요 🚀")]
    },
    "ISFJ": {
        "books": [("작은 아씨들 - 루이자 메이 올컷", "따뜻하고 헌신적인 ISFJ에게 잘 어울려요."),
                  ("나의 라임오렌지나무 - 조제 마우로", "마음을 울리는 성장 스토리예요 💕")],
        "movies": [("원더", "배려와 이해를 그린 감동 영화예요."),
                   ("패딩턴", "다정하고 가족적인 이야기예요 🐻")]
    },
    "ESTJ": {
        "books": [("하버드 상위 1퍼센트의 비밀 - 리사 손", "목표 지향적이고 계획적인 사람에게 맞아요."),
                  ("협상의 법칙 - 로저 피셔", "효율과 결과를 중요시하는 ESTJ에게 추천!")],
        "movies": [("머니백", "현실적인 판단력과 실행력이 돋보여요."),
                   ("스포트라이트", "정확하고 체계적인 접근이 인상적이에요 📰")]
    },
    "ESFJ": {
        "books": [("오늘은 이만 좀 쉴게요 - 김민철", "사람을 챙기느라 바쁜 ESFJ에게 휴식 같은 책이에요."),
                  ("당신이 옳다 - 정혜신", "공감의 힘을 보여주는 책이에요 🌷")],
        "movies": [("인사이드 아웃", "감정을 이해하고 다루는 이야기가 따뜻해요."),
                   ("라따뚜이", "협력과 성장의 이야기가 훈훈해요 🍳")]
    },
    "ISTP": {
        "books": [("나무 - 베른하르트 쉬링크", "논리적이지만 감정적인 면도 자극해요."),
                  ("공학의 역사 - 제임스 고든", "사물의 원리를 이해하는 걸 좋아하는 ISTP에게 좋아요.")],
        "movies": [("매드맥스: 분노의 도로", "역동적이고 스릴 있는 세계관이 어울려요 🔧"),
                   ("007 스카이폴", "냉철하면서도 결단력 있는 주인공이 매력적이에요.")]
    },
    "ISFP": {
        "books": [("월든 - 헨리 데이비드 소로", "자연과 감성을 사랑하는 ISFP에게 어울려요 🌿"),
                  ("센 강의 이름 모를 여인에게 - 기욤 뮈소", "감성적인 이야기예요.")],
        "movies": [("아멜리에", "감수성 풍부한 사람에게 어울려요."),
                   ("코코", "예술적 감성과 따뜻한 메시지가 담겨 있어요 🎶")]
    },
    "ESTP": {
        "books": [("실행이 답이다 - 래리 보시디", "바로 행동으로 옮기는 ESTP에게 찰떡이에요."),
                  ("나의 첫 비즈니스 - 게리 바이너척", "도전적인 사람에게 영감을 줘요 💪")],
        "movies": [("분노의 질주", "스피드와 모험을 즐기는 사람에게 맞아요 🏎️"),
                   ("킹스맨", "센스 있고 통쾌한 전개가 어울려요.")]
    },
    "ESFP": {
        "books": [("내가 좋아하는 것들 - 마리 콘도", "감각적이고 즐거움을 추구하는 ESFP에게 좋아요 🌈"),
                  ("사랑의 기술 - 에리히 프롬", "따뜻하고 감정적인 이야기예요.")],
        "movies": [("맘마미아!", "에너지 넘치는 음악과 분위기가 찰떡이에요 🎵"),
                   ("주토피아", "밝고 활기찬 주인공처럼 긍정적인 메시지가 있어요.")]
    }
}

if st.button("추천받기 💡"):
    rec = recommendations.get(user_mbti)
    if rec:
        st.subheader(f"✨ {user_mbti} 유형에게 어울리는 추천 ✨")
        st.markdown("**📚 추천 책**")
        for title, reason in rec["books"]:
            st.write(f"• {title} — {reason}")
        st.markdown("**🎬 추천 영화**")
        for title, reason in rec["movies"]:
            st.write(f"• {title} — {reason}")
        st.write("---")
